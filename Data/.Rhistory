# This is question 3c in "Survey_Questions_V3" google drive doc.
q4a.work.interaction.freq.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 4b: Approximately how often do you interact with this individual outside of work (in your personal time)?
q4b.personal.interaction.freq.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 5a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss current environmental issues
# with this individual?
# This is question 4 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q5a.likely.discuss.env.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 5b: How often do you discuss these issues with this individual?
# This is updated question 4b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 5a
q5b.freq.discuss.env.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 5c: Please explain your reasoning
q5c.likely.discuss.env.issues.exp.eiq <- rep("Explain why (not) discuss environmental issues", n.edge.indiv)
# Question 6a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss current economic issues
# with this individual?
# This is question 5 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q6a.likely.discuss.econ.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 6b: How often do you discuss these issues with this individual?
# This is updated question 5b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 6a
q6b.freq.discuss.econ.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 6b: Please explain your reasoning
q6c.likely.discuss.econ.issues.exp.eiq <- rep("Explain why (not) discuss economic issues", n.edge.indiv)
# Question 7a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss issues regarding communication
# between Georgia coastal fishery stakeholders/groups with this individual?
# This is question 6 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q7a.likely.discuss.comm.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 7b: How often do you discuss these issues with this individual?
# This is updated question 6b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 7a
q7b.freq.discuss.comm.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 7b: Please explain your reasoning
q7c.likely.discuss.comm.issues.exp.eiq <- rep("Explain why (not) discuss communication issues", n.edge.indiv)
# Question 8a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss matters related to the availability of
# governmental resources within Georgia coastal fisheries with this individual?
# This is question 7 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q8a.likely.discuss.gvmtresources.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 8b: How often do you discuss these issues with this individual?
# This is updated question 7b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 8a
q8b.freq.discuss.gvmtresources.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 8b: Please explain your reasoning
q8c.likely.discuss.gvmtresources.issues.exp.eiq <- rep("Explain why (not) discuss government resource availability issues", n.edge.indiv)
# Question 9a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss matters related to the involvement of federal agencies (e.g., GA DNR)
# in Georgia coastal fisheries with this individual?
# This is question 8 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q9a.likely.discuss.fedagency.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 9b: How often do you discuss these issues with this individual?
# This is updated question 8b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 9a
q9b.freq.discuss.fedagency.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 9c: Please explain your reasoning
q9c.likely.discuss.fedagency.issues.exp.eiq <- rep("Explain why (not) discuss federal agency issues", n.edge.indiv)
# Question 10: Do you know if this individual has had difficulty selling their catch/harvest?
# This is question 26 in the "Survey_Questions_V3" google drive doc.
q10.difficulty.selling.catch.eiq <- sample(binary.qual.options, n.edge.indiv, replace = T)
# Question 11: Is this individual in contact with Georgia DNR, Georgia Sea Grant, or other governmental agencies?
# This is question 32 in the "Survey_Questions_V3" google drive doc.
q11.indiv.contact.agency.eiq <- sample(binary.qual.options, n.edge.indiv, replace = T)
# Question 12a: Are you related to this individual?
q12a.related.indiv.eiq <- sample(binary.qual.options, n.edge.indiv, replace = T)
# Question 12b. If yes, how so?
q12b.related.descriptor.eiq <- ifelse(q12a.related.indiv.eiq == "Yes", sample(related.options, n.edge.indiv, replace = T), "N/A")
q12c.related.descriptor.other.eiq <- ifelse(q12b.related.descriptor.eiq == "Other (please specify)", "Explain", "N/A")
# Question 13. Please indicate the degree to which you agree with this statement: I have a healthy, productive, pleasant working relationship with this individual
q13.positive.wk.relationship.eiq <- sample(agree.likert, n.edge.indiv, replace = T)
# Question 14: Please rate the quality of your working relationship with this individual from 0 (extremely unproductive, unenjoyable)
q14.wk.relationship.quality.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 15: Please indicate the degree to which you agree with this statement: This individual contributes to the well-being and sustainability of the Georgia coastal shrimp industry
q15.sust.industry.contribution.eiq <- sample(agree.likert, n.edge.indiv, replace = T)
# Question 16: Please rank your level of trust of this individual in a professional, work-related context from 0 (I do not trust this person)
# to 10 (I trust this person completely).
q16.trust.level.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 17: Please rank your willingness to interact with this individual in a professional, work-related context from 0 (I only work with this person because it is absolutely necessary)
# to 10 (I go out of my way to work with this person).
q17.willingness.to.wk.with.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
########## End Edge (individual to individual) sheet questions. Now time to put it all together into one data frame
# Tag for edge individual sheet questions = ".eiq"
eiq <- ls(pattern = ".eiq")
# Sort questions in order written
eiq <- naturalsort(eiq)
# Combine questions and answers with alter.test.df egos and alters
edge.indiv.test.df <-as.data.frame(cbind(alter.test.df,as.data.frame(mget(eiq))))
# Create column names for egos and alters
names(edge.indiv.test.df)[1]="ego"
names(edge.indiv.test.df)[2]="alter"
# Check that generated dataframe looks correct
View(edge.indiv.test.df)
#################################################################
##
# Write out official edge-individual data frame for use in analysis
##
#################################################################
filename.edge.individual<-paste0("edge_individual_test_df_",
format(Sys.time(), "%m_%d_%y"),".csv")
write.csv(edge.indiv.test.df,filename.edge.individual)
# Question 24: To what degree has Black Gill Disease in shrimp changed where and how you fish on a scale of 0 - 5 (0 = not at all, 5 = very significantly)?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q24.blackgill.change.fishing.vq <- sample(c(0:5), n)
# Question 24: To what degree has Black Gill Disease in shrimp changed where and how you fish on a scale of 0 - 5 (0 = not at all, 5 = very significantly)?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q24.blackgill.change.fishing.vq <- sample(c(0:5), n, replace = T)
# Question 24: To what degree has Black Gill Disease in shrimp changed where and how you fish on a scale of 0 - 5 (0 = not at all, 5 = very significantly)?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q24.blackgill.change.fishing.vq <- sample(c(0:5), n, replace =T)
############################
basedirectory <- "/Users/BryanBozeman/Documents/GitHub/ICON8002_SNA"
input_datapath <- "/Users/BryanBozeman/Documents/GitHub/ICON8002_SNA/Data"
vertex_datapath <- "vertex_test_df.csv"
edge_indiv_datapath <- "edge_indiv_test_df.csv"
edge_org_datapath <- "edge_org_test_df.csv"
setwd(input_datapath)
## setting parameters
# generated data sample size
n = 200
# Setting connections
mean_connections = 4
#List packages used
list.of.packages <- c("igraph","randomNames","fabricatr","plyr","RColorBrewer","keyplayer","sna","MASS","naturalsort")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)){install.packages(new.packages)}
#Load all packages
lapply(list.of.packages, require, character.only = TRUE)
vertex_test <- read.csv(vertex_datapath, header=T, row.names = 1)
edge_indiv_test <- read.csv(edge_indiv_datapath, header=T, row.names = 1)
edge_org_test <- read.csv(edge_org_datapath, header=T, row.names = 1)
##################
##########
## Likert scale, binary, numerical, and categorical distributions sampled from throughout script
industry.role.options <-c ("Commercial fisherman", "Commercial crabbers or dealer", "Dock and fish house", "Shellfish gatherer") # These are the industry role options as listed in the Tookes IRB
binary.qual.options <- c("Yes", "No")
good.poor.likert <- c("Very good", "Good", "Fair", "Poor", "Very poor", "No opinion")
agree.likert <- c("Strongly agree", "Agree", "Neither agree nor disagree", "Disagree", "Strongly disagree")
likely.likert <- c("Very likely", "Likely", "Neither likely nor unlikely", "Unlikely", "Very unlikely")
dock.options <- c("Brunswick Dock", "Savannah Dock", "Piedmont Dock", "South GA Dock", "Derrien Dock", "St. Simons Dock", "Jekyll Dock") # These are hypothetical and will likely be open response in actual survey
harvest.decline.location.options <- c("North of Savannah", "Between Sapelo Island and Savannah", "Between St. Simons Island and Sapelo Island", "Between St. Simons Island and Jekyll Island", "South of Jekyll Island") # These also are hypothetical and likely will be open response or indicated on a map in the actual survey
agency.options <- c("Georgia Sea Grant", "Georgia Department of Natural Resources", "Georgia Shrimping Association (Wild Georgia Shrimp)", "Southern Shrimp Alliance", "Other (please insert)")
interaction.freq.options <- c("Three or more times per week", "Two to three times per week", "Once per week", "More than once per month", "Once per month or less")
related.options <- c("Parent", "Child", "Spouse or partner", "Cousin", "Other (please specify)")
wk.relationship.options <- c("Employer", "Employee", "Other (please specify)") # Removed "Colleague" as an option for work relationship and manually added it where alter.type = "Shared-Profession"
change.dock.freq.options <- c("Once per month", "Once every other month", "More than once per year", "Once per year", "Once per 5 years")
# VERTEX ATTRIBUTE GENERATOR
# Name generator
ego.df <- randomNames(n, which.names="both",ethnicity = c(3:5),
name.order="last.first",name.sep=", ")
ego.df
# Question 1: What is your occupation in/relationship to Georgia coastal fisheries?
# Profession generator based on professions and proportions from Tookes IRB (industry role)
q1.profession.df.vq <- sample(industry.role.options, n, replace=TRUE, prob = c(0.53,.20, 0.15, 0.12))
# Question 2a: Are you currently working in the above industry?
# This is question 2 in "Survey_Questions_V3" google drive doc.
q2a.currently.working.vq <- sample(binary.qual.options, n, replace = T)
# Question 2b: If yes, how long?
# This is question 2a in "Survey_Questions_V3" google drive doc.
q2b.how.long.work.vq <- ifelse(q2a.currently.working.vq == "Yes", sample(c(0:40)), "N/A")
# Question 2c: If no, when and why did you leave this industry?
# This is question 2b in "Survey_Questions_V3" google drive doc.
q2c.when.leave.work.vq <- ifelse(q2a.currently.working.vq == "No", "Open Response", "N/A")
# Question 3: How would you rate the current economic conditions (e.g., available market, pricing, transportation)
# of Georgia coastal fisheries?
# This is question 9 in "Survey_Questions_V3" google drive doc.
q3.rate.econ.conditions.vq <- sample(good.poor.likert, n, replace = T)
# Question 4a: In your opinion, is the Georgia coastal fishery currently being impacted by environmental issues (e.g., shrimp black gill disease, changing weather/climatic conditions)?
q4a.env.issues.vq <- sample(binary.qual.options, n, replace = T)
# Question 4b: If yes, how pressing are current environmental issues for Georgia coastal fisheries on a scale of 0 - 5 (0 = Not pressing, 5 = Very pressing)?
# This is question 11 in "Survey_Questions_V3" google drive doc.
q4b.rate.env.conditions.vq <- ifelse(q4a.env.issues.vq == "Yes", sample(0:5), "N/A")
# Question 5: How would you rate current communication between government agencies and individual fishers within Georgia coastal fisheries?
# This is question 11 in "Survey_Questions_V3" google drive doc.
q5.rate.comm.agencies.vq <- sample(good.poor.likert, n, replace = T)
# Question 6a: Have you ever attended a meeting hosted by the Georgia Department of Natural Resources?
# This is question 12 in "Survey_Questions_V3" google drive doc.
q6a.attended.GADNR.mtg.vq <- sample(binary.qual.options, n, replace = T)
# Question 6b: If yes, please briefly explain what the meeting(s) were about.
# This is question 13 in "Survey_Questions_V3" google drive doc.
q6b.GADNR.mtg.topic.vq <- ifelse(q6a.attended.GADNR.mtg.vq == "Yes", "Open Response", "N/A")
# Question 6c: If no, please briefly explain why.
# This is question 14 in "Survey_Questions_V3" google drive doc.
q6c.GADNR.why.not.mtg.vq <- ifelse(q6a.attended.GADNR.mtg.vq == "No", "Open Response", "N/A")
# Question 7a: Please provide the name/location of your primary dock within Georgia coastal fisheries.
# This is question 15 in the "Survey_Questions_V3" google drive doc.
# This could also be an edge question.
q7a.primary.dock.vq <- sample(dock.options, n, replace = T)
# Question 7b: Do you work at this dock?
# This is question 16 in the "Survey_Questions_V3" google drive doc.
# This could also be an edge question.
q7b.active.dock.relationship.vq <- sample(binary.qual.options, n, replace = T)
# Question 7c: If yes, how long have you worked with this dock?
# This is question 16a in the "Survey_Questions_V3" google drive doc.
# This could also be an edge question.
q7c.time.worked.w.dock.vq <- ifelse(q7b.active.dock.relationship.vq == "Yes", sample(0:25), "N/A")
# Question 7d: If no, when did you terminate this relationship?
# This is question 16b in the "Survey_Questions_V3" google drive doc.
# This could also be an edge question.
q7d.ended.dock.relationship.vq <- ifelse(q7b.active.dock.relationship.vq == "No", sample(0:25), "N/A")
# Question 8a: Are there particular fishing grounds where you have observed significant decline in catch/harvest?
# This is question 20 in "Survey_Questions_V3" google drive doc.
q8a.observed.decline.harvest.vq <- sample(binary.qual.options, n, replace = T)
# Question 8b: If yes, please indicate location on below map.
# This is question 20a in "Survey_Questions_V3" google drive doc.
# Listing hypothetical locations for data generation purposes.
q8b.harvest.decline.location.vq <- ifelse(q8a.observed.decline.harvest.vq == "Yes", sample(harvest.decline.location.options), "N/A")
# Question 8c: If yes, do you still fish these areas?
# This is question 20b in "Survey_Questions_V3" google drive doc.
q8c.still.fish.decline.locations.vq <- ifelse(q8a.observed.decline.harvest.vq == "Yes", sample(binary.qual.options), "N/A")
# Question 9a: Do you catch/harvest multiple species (i.e., shrimp, fish, crab)?
# This is question 22 in "Survey_Questions_V3" google drive doc.
q9a.harvest.multiple.sp.vq <- sample(binary.qual.options, n, replace = T)
# Question 9b: If yes, what species do you catch/harvest?
# This is updated question 22i in "Survey_Questions_V3" google drive doc.
q9b.species.harvested.vq <- ifelse(q9a.harvest.multiple.sp.vq == "Yes", "List of species harvested", "N/A")
# Question 9c: Do you sell all types of catch/harvest to a single dock?
# This is updated question 23 in "Survey_Questions_V3" google drive doc.
q9c.sell.to.single.dock.vq <- sample(binary.qual.options, n, replace = T)
# Question 9d: If yes to 9a, what is the average you expect to earn from a single catch/harvest?
# This is updated question 23i in "Survey_Questions_V3" google drive doc.
q9d.earned.per.species.vq <- ifelse(q9a.harvest.multiple.sp.vq == "Yes", "Average earned from single catch/harvest", "N/A")
# Question 9e: If no to 9b, please explain why.
# This is question 23iii in "Survey_Questions_V3" google drive doc.
q9e.why.sell.multiple.docks.vq <- ifelse(q9c.sell.to.single.dock.vq == "No", "Explain why sell to multiple docks", "N/A")
# Question 10: Are you aware of any dock owners who have difficulty selling products to land-based dealers?
# This is question 27 in "Survey_Questions_V3" google drive doc.
# This question could also be folded in as a subquestion for edge/relationships
q10.docks.difficulty.selling.vq <- sample(binary.qual.options, n, replace = T)
# Question 11a: Do you regularly change which docks you sell your catch/harvest to?
# This is question 28 in "Survey_Questions_V3" google drive doc.
q11a.change.docks.vq <- sample(binary.qual.options, n, replace = T)
# Question 11b: Please explain why
q11b.change.docks.explain.vq <- rep("Open response", n)
# Question 11c: If yes, please indicate how often.
# This is question 28c in "Survey_Questions_V3" google drive doc.
q11c.change.docks.freq.vq <- sample(change.dock.freq.options, n, replace = T)
# Question 12a: Have you experienced a decline in fishery catch/harvest?
# This is question 29 in "Survey_Questions_V3" google drive doc.
q12a.decline.in.catch.vq <- sample(binary.qual.options, n, replace =T)
# Question 12b: If yes, please briefly explain why you think this decline has occurred.
# This is question 29a in "Survey_Questions_V3" google drive doc. I reworded it slightly.
q12b.explain.decline.vq <- ifelse(q12a.decline.in.catch.vq == "Yes", "Harvest decline explanation", "N/A")
# Question 12c: If yes, which species are declining the most?
# This is question 29b in "Survey_Questions_V3" google drive doc.
q12c.which.spp.decline.vq <- ifelse(q12a.decline.in.catch.vq == "Yes", "Declining species", "N/A")
# Question 12d: If yes, please indicate the severity of the decline on a scale of 0 - 5 (0 = Not severe, 5 = Very severe).
# This is question 29c in "Survey_Questions_V3" google drive doc.
q12d.severity.decline.vq <- ifelse(q12a.decline.in.catch.vq == "Yes", sample(0:5), "N/A")
# Question 13a: Did the decline in catch/harvest affect your business?
# This is question 30 in "Survey_Questions_V3" google drive doc.
q13a.decline.affect.business.vq <- sample(binary.qual.options, n, replace = T)
# Question 13b: If yes, please indicate the severity of the effect on your business on a scale of 0 - 5 (0 = Not severe, 5 = Very severe).
# This is question 30a in "Survey_Questions_V3" google drive doc.
q13b.severity.decline.business.vq <- ifelse(q13a.decline.affect.business.vq == "Yes", sample(0:5), "N/A")
# Question 14: Which of the following agency meeting(s) do you attend?
# This is question 31 in "Survey_Questions_V3" google drive doc.
# Figure out how to allow ego to select multiple agencies/organizations.
q14.agency.mtg.attend.vq <- sample(agency.options, n, replace = T)
# Question 15a: Are you aware of docks/fishers who are/were in contact with Georgia Department of Natural Resources,
# Sea Grant, or other governmental agencies?
# This is question 32 in "Survey_Questions_V3" google drive doc.
q15.folks.contact.gvmt.vq <- sample(binary.qual.options, n, replace = T)
# Question 15b: If yes, please name the docks/fisher
# This is question 32a in "Survey_Questions_V3" google drive doc.
# This also is a possible edge question
q15b.name.folks.contact.gvmt.vq <- ifelse(q15.folks.contact.gvmt.vq == "Yes", "Name of dock/fisher", "N/A")
# Question 15c: If yes, please also name agency or agencies and briefly explain any reasons for contact.
# This is question 32b in "Survey_Questions_V3" google drive doc.
# This also is a possible edge question
q15c.name.agencies.contacted.vq <- ifelse(q15.folks.contact.gvmt.vq == "Yes", sample(agency.options), "N/A")
q15d.reasons.agency.contact.vq <- rep("Reasons for contacting agency", n)
# Question 16a: If you have attended meeting(s) organized by governmental agencies, has your attendance been beneficial to your fishing practice?
# Please explain your answer below
# This is question 33 in "Survey_Questions_V3" google drive doc.
q16a.attendance.mtg.beneficial.vq <- sample(binary.qual.options, n, replace = T)
q16b.attendance.mtg.expl.vq <- ifelse(q16a.attendance.mtg.beneficial.vq == "Yes", "Benefit from attendance explained", "N/A")
# Question 17: Which of the following agencies is helpful in solving the Georgia coastal fishery problems?
# This is question 34 in "Survey_Questions_V3" google drive doc.
# This also is a possible edge question
# Figure out how to allow ego to select multiple agencies
q17.agencies.helpful.vq <- sample(agency.options, n, replace = T)
# Question 18: Which of the following agencies do you think is not helpful in solving the Georgia coastal fishery problems?
# This is question 35 in "Survey_Questions_V3" google drive doc.
# This also is a possible edge question
# Figure out how to allow ego to select multiple agencies and how to prevent ego from selecting same agency listed in above question.
q18.agencies.not.helpful.vq <- sample(agency.options, n, replace = T)
# Question 19: What kind of problems do you think organizations/agencies can help solve?
# This is question 35a in "Survey_Questions_V3" google drive doc.
q19.probs.agencies.could.solve.vq <- rep("Problems agencies could help solve", n)
# Question 20: Do you think organizations/agencies should do more to help solve the Georgia coastal fishery problems?
# If yes, what?
# This is question 35b in "Survey_Questions_V3" google drive doc.
q20a.should.orgs.do.more.vq <- sample(binary.qual.options, n, replace = T)
q20b.how.should.orgs.help.vq <- ifelse(q20a.should.orgs.do.more.vq == "Yes", "Help suggestions", "N/A")
# Question 21: How likely will the following change to harvest restrictions impact where you shrimp: Open state waters for shrimping prior to May 15
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
# This question is split into many subpieces, but I've separated them into separate questions for data generation purposes
q21.reg.change.open.water.May15.vq <- sample(likely.likert, n, replace = T)
# Question 22: How likely will the following change to harvest restrictions impact where you shrimp: Close state waters to shrimping past December 31st
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q22.reg.change.close.water.Dec31.vq <- sample(likely.likert, n, replace = T)
# Question 23: How likely will the following change to harvest restrictions impact where you shrimp: Open sounds to shrimping
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q23.reg.change.open.sounds.vq <- sample(likely.likert, n, replace = T)
# Question 24: To what degree has Black Gill Disease in shrimp changed where and how you fish on a scale of 0 - 5 (0 = not at all, 5 = very significantly)?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q24.blackgill.change.fishing.vq <- sample(c(0:5), n, replace =T)
# Question 25a: Is black gill disease in shrimp a concern of others who use the same dock as you?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q25a.blackgill.concern.dockmates.vq <- sample(binary.qual.options, n, replace = T)
# Question 25b: If yes, how strong is this concern on a scale of 0 - 5 (0 = Not strong, 5 = Very strong)?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
# I have slightly reworded this so that it makes more sense.
q25b.blackgill.concern.dockmates.strength.vq <- ifelse(q25a.blackgill.concern.dockmates.vq == "Yes", sample(0:5), "N/A")
# Question 26a: Have you observed black gill disease in your shrimp harvests?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q26a.seen.blackgill.vq <- sample(binary.qual.options, n, replace = T)
# Question 26b: If yes, in which of the following coastal areas have you observed black gill?
# This is underneath the "Other" category in the "Survey_Questions_V3" google drive doc.
q26b.where.seen.blackgill.vq <- ifelse(q26a.seen.blackgill.vq == "Yes", sample(harvest.decline.location.options), "N/A")
# Question 27: In one year, how much do you expect to earn from your sales to each dock by catch/harvest?
# This is question 27 in updated "Survey_Questions_V3" google drive doc.
# Should probably be placed higher in the question list, but waiting on feedback from Jennifer Tookes
q27.earn.one.year.dock.vq <- rep("How much earned per year per dock per catch", n)
### Put all questions and responses together into single Vertex information data frame.
# tag for vertex sheet questions = ".vq"
vq <- ls(pattern = ".vq")
# sort questions in order written
vq <- naturalsort(vq)
# combine egos and answers to questions
vertex.test.df <- as.data.frame(cbind(ego.df, as.data.frame(mget(vq))))
# create column 1 name in dataframe as "ego"
names(vertex.test.df)[1]="ego"
# check that generated dataframe looks correct
View(vertex.test.df)
# Vertex ego list
ego.df <- as.vector(vertex.test.df$ego)
# Setting connections
alter.test.df<-data.frame()
conn_types<-c("In-Network","Out-of-Network","Shared-Profession")
alter.outnetwork.num <- 30
alter.outnetwork.df <- randomNames(alter.outnetwork.num, which.names="both",ethnicity = c(1:2),name.order="last.first",name.sep=", ")
alter.outnetwork.df <- alter.outnetwork.df[!alter.outnetwork.df %in% ego.df]
for(i in 1:length(ego.df)){
ego.df.rm <- ego.df[!ego.df == ego.df[i]]
#alter.outnetwork.df
professional.names<-ego.df[which(vertex.test.df[,2]==as.character(vertex.test.df[i,2]))]
professional.names.rm<- professional.names[!professional.names == ego.df[i]]
#names.sample.list<-c(ego.df.rm,alter.outnetwork.df,professional.names.rm)
sample_connections<-rnegbin(1,mean_connections, theta = 8)
sample_prob<-sample(conn_types, sample_connections, replace = T, p = c(0.1,0.1,0.8))
sample.In_Network<-length(which(sample_prob == conn_types[1]))
sample.Out_Network<-length(which(sample_prob == conn_types[2]))
sample.Profess_Link<-length(which(sample_prob == conn_types[3]))
alter.innetwork.i <- sample(ego.df.rm,sample.In_Network,replace = FALSE)
alter.outnetwork.i <- sample(alter.outnetwork.df,sample.Out_Network,replace = FALSE)
alter.profession.i <- sample(professional.names.rm,sample.Profess_Link,replace = FALSE)
alter.i<-c(alter.innetwork.i,alter.outnetwork.i,alter.profession.i)
alter.type<-c(rep("In-Network",sample.In_Network),rep("Out-Network",sample.Out_Network),rep("Shared-Profession",sample.Profess_Link))
if(length(which(duplicated(alter.i)==TRUE))>0){
Rm.num<-which(duplicated(alter.i)==TRUE)
alter.i.check<-alter.i[-c(Rm.num)]
alter.type.check<-alter.type[-c(Rm.num)]
print(paste0("Removed duplicate elemements # ",Rm.num," from ", ego.df[i]," (ego number ",i," out of ",length(ego.df),")"))
}else{
alter.i.check<-alter.i
alter.type.check<-alter.type
}
alter.df.i <- cbind(rep(ego.df[i],length(alter.i.check)),alter.i.check,alter.type.check)
alter.test.df <- rbind(alter.test.df,alter.df.i)
}
names(alter.test.df)<-c("ego","alter","alter_type")
View(alter.test.df)
# tag for vertex sheet questions = ".vq"
vq <- ls(pattern = ".vq")
vq <- naturalsort(vq)
vertex.test.df <- as.data.frame(cbind(ego.df, as.data.frame(mget(vq))))
names(vertex.test.df)[1]="ego"
Out_Network_Names<-unique(alter.test.df[which(alter.test.df$alter_type=="Out-Network"),2])
for(k in 1:length(Out_Network_Names)){
Name.k<-as.character(Out_Network_Names[k])
Out_Network<-as.character("Out-Network")
Out.row.k<-c(Name.k,Out_Network,rep("N/A",(length(colnames(vertex.test.df))-2)))
Out.row.k<-as.data.frame(t(Out.row.k))
colnames(Out.row.k)<-colnames(vertex.test.df)
vertex.test.df<-rbind(vertex.test.df,Out.row.k)
}
#### Check to see that vertex dataframe looks correct with added out-network egos
View(vertex.test.df)
#################################################################
##
# Write out official vertex data frame for use in analysis
##
#################################################################
filename.vertex<-paste0("vertex_test_df_",
format(Sys.time(), "%m_%d_%y"),".csv")
write.csv(vertex.test.df,filename.vertex)
# Sample size for generated data
n.edge.indiv <- length(alter.test.df$alter)
# Question 1: How many years have you known this individual?
q1.years.known.eiq <- sample(c(1:30), n.edge.indiv, replace = T)
# Question 2: How many years have you had a professional relationship with this individual?
# Value cannot exceed years known
q2.years.worked.with.eiq <- round(runif(n.edge.indiv, min = 0, max = q1.years.known.eiq))
# Question 3: Please describe your professional relationship with this individual
q3a.wk.relationship.eiq <- ifelse(alter.test.df$alter_type == "Shared-Profession", "Colleague", sample(wk.relationship.options))
q3b.wk.relationship.other.eiq <- ifelse(q3a.wk.relationship.eiq == "Other (please specify)", "Professional relationship explanation", "N/A")
# Question 4a: Approximately how frequently do you interact with this person in a professional context?
# This is question 3c in "Survey_Questions_V3" google drive doc.
q4a.work.interaction.freq.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 4b: Approximately how often do you interact with this individual outside of work (in your personal time)?
q4b.personal.interaction.freq.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 5a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss current environmental issues
# with this individual?
# This is question 4 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q5a.likely.discuss.env.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 5b: How often do you discuss these issues with this individual?
# This is updated question 4b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 5a
q5b.freq.discuss.env.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 5c: Please explain your reasoning
q5c.likely.discuss.env.issues.exp.eiq <- rep("Explain why (not) discuss environmental issues", n.edge.indiv)
# Question 6a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss current economic issues
# with this individual?
# This is question 5 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q6a.likely.discuss.econ.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 6b: How often do you discuss these issues with this individual?
# This is updated question 5b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 6a
q6b.freq.discuss.econ.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 6b: Please explain your reasoning
q6c.likely.discuss.econ.issues.exp.eiq <- rep("Explain why (not) discuss economic issues", n.edge.indiv)
# Question 7a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss issues regarding communication
# between Georgia coastal fishery stakeholders/groups with this individual?
# This is question 6 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q7a.likely.discuss.comm.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 7b: How often do you discuss these issues with this individual?
# This is updated question 6b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 7a
q7b.freq.discuss.comm.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 7b: Please explain your reasoning
q7c.likely.discuss.comm.issues.exp.eiq <- rep("Explain why (not) discuss communication issues", n.edge.indiv)
# Question 8a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss matters related to the availability of
# governmental resources within Georgia coastal fisheries with this individual?
# This is question 7 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q8a.likely.discuss.gvmtresources.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 8b: How often do you discuss these issues with this individual?
# This is updated question 7b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 8a
q8b.freq.discuss.gvmtresources.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 8b: Please explain your reasoning
q8c.likely.discuss.gvmtresources.issues.exp.eiq <- rep("Explain why (not) discuss government resource availability issues", n.edge.indiv)
# Question 9a: On a scale of 0 - 10 (0 = extremely unlikely, 10 = certain), how likely are you to discuss matters related to the involvement of federal agencies (e.g., GA DNR)
# in Georgia coastal fisheries with this individual?
# This is question 8 in the "Survey_Questions_V3" google drive doc.
# I have reframed the question so that we don't have to continually sample from previously identified alters.
q9a.likely.discuss.fedagency.issues.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 9b: How often do you discuss these issues with this individual?
# This is updated question 8b in "Survey_Questions_V3" google drive doc.
# Need to figure out how to have this response make sense given response to 9a
q9b.freq.discuss.fedagency.issues.eiq <- sample(interaction.freq.options, n.edge.indiv, replace = T)
# Question 9c: Please explain your reasoning
q9c.likely.discuss.fedagency.issues.exp.eiq <- rep("Explain why (not) discuss federal agency issues", n.edge.indiv)
# Question 10: Do you know if this individual has had difficulty selling their catch/harvest?
# This is question 26 in the "Survey_Questions_V3" google drive doc.
q10.difficulty.selling.catch.eiq <- sample(binary.qual.options, n.edge.indiv, replace = T)
# Question 11: Is this individual in contact with Georgia DNR, Georgia Sea Grant, or other governmental agencies?
# This is question 32 in the "Survey_Questions_V3" google drive doc.
q11.indiv.contact.agency.eiq <- sample(binary.qual.options, n.edge.indiv, replace = T)
# Question 12a: Are you related to this individual?
q12a.related.indiv.eiq <- sample(binary.qual.options, n.edge.indiv, replace = T)
# Question 12b. If yes, how so?
q12b.related.descriptor.eiq <- ifelse(q12a.related.indiv.eiq == "Yes", sample(related.options, n.edge.indiv, replace = T), "N/A")
q12c.related.descriptor.other.eiq <- ifelse(q12b.related.descriptor.eiq == "Other (please specify)", "Explain", "N/A")
# Question 13. Please indicate the degree to which you agree with this statement: I have a healthy, productive, pleasant working relationship with this individual
q13.positive.wk.relationship.eiq <- sample(agree.likert, n.edge.indiv, replace = T)
# Question 14: Please rate the quality of your working relationship with this individual from 0 (extremely unproductive, unenjoyable)
q14.wk.relationship.quality.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 15: Please indicate the degree to which you agree with this statement: This individual contributes to the well-being and sustainability of the Georgia coastal shrimp industry
q15.sust.industry.contribution.eiq <- sample(agree.likert, n.edge.indiv, replace = T)
# Question 16: Please rank your level of trust of this individual in a professional, work-related context from 0 (I do not trust this person)
# to 10 (I trust this person completely).
q16.trust.level.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
# Question 17: Please rank your willingness to interact with this individual in a professional, work-related context from 0 (I only work with this person because it is absolutely necessary)
# to 10 (I go out of my way to work with this person).
q17.willingness.to.wk.with.eiq <- sample(c(0:10), n.edge.indiv, replace = T)
########## End Edge (individual to individual) sheet questions. Now time to put it all together into one data frame
# Tag for edge individual sheet questions = ".eiq"
eiq <- ls(pattern = ".eiq")
# Sort questions in order written
eiq <- naturalsort(eiq)
# Combine questions and answers with alter.test.df egos and alters
edge.indiv.test.df <-as.data.frame(cbind(alter.test.df,as.data.frame(mget(eiq))))
# Create column names for egos and alters
names(edge.indiv.test.df)[1]="ego"
names(edge.indiv.test.df)[2]="alter"
# Check that generated dataframe looks correct
View(edge.indiv.test.df)
#################################################################
##
# Write out official edge-individual data frame for use in analysis
##
#################################################################
filename.edge.individual<-paste0("edge_individual_test_df_",
format(Sys.time(), "%m_%d_%y"),".csv")
write.csv(edge.indiv.test.df,filename.edge.individual)
